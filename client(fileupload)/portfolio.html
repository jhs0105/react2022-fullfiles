<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet" />

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/fancybox.css" />
    <link rel="stylesheet" href="css/lightpick.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/word-relay.css" />
    <link rel="stylesheet" href="css/pinterest.css" />

    <script src="js/jquery-3.6.1.min.js"></script>
    <script src="https://kit.fontawesome.com/5f5f753b4c.js" crossorigin="anonymous"></script>
    <script src="js/gsap/gsap.min.js"></script>
    <script src="js/gsap/ScrollToPlugin.min.js"></script>
    <script src="js/splitting.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/hangul-tools.js"></script>
    <script src="js/fancybox.umd.js"></script>
    <script src="js/chart.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/lightpick.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
  </head>
  <body>
    <header id="header">
      <h1>portfolio <strong>gallery</strong></h1>
    </header>

    <div class="coordinate">
      <label><span>screen</span><input type="text" id="screen" /></label>
      <label><span>offset</span><input type="text" id="offset" /></label>
      <label><span>page</span><input type="text" id="page" /></label>
      <label><span>client</span><input type="text" id="client" /></label>
    </div>

    <div class="category">
      <ul>
        <li class="on" data-filter="item">all</li>
        <li data-filter="paint">paint</li>
        <li data-filter="sketch">sketch</li>
        <li data-filter="photo">photo</li>
      </ul>
    </div>
    <div class="list">
      <ul class="item-list">
        <!-- <a href="">
          <div class="img"><img src="" alt="" /></div>
          <div class="info">
            <h2></h2>
            <p></p>
          </div>
        </a> -->
      </ul>
    </div>
    <script>
      const itemList = document.querySelector(".item-list");
      fetch("http://127.0.0.1:8081/portfolio/list")
        .then((response) => response.json())
        .then((data) => {
          //console.log(data);
          data.forEach((item, idx) => {
            const li = document.createElement("li");
            const categorys = item.category.split("/");
            li.classList.add(...categorys);
            li.classList.add("item");
            li.innerHTML = `<a href="">
                              <div class="inner">
                                <div class="img"><img src="${item.poster}" alt="" /></div>
                                <div class="info">
                                  <h2>${item.title}</h2>
                                  <p class="desc">${item.summary}</p>
                                </div>
                              </div>
                            </a>`;
            itemList.appendChild(li);
          });
          const grid = new Isotope(itemList, {
            itemSelector: ".item",
            layoutMode: "masonry",
          });

          imagesLoaded(itemList).on("progress", function () {
            grid.layout();
          });

          // const grid = $(".item-list").isotope({
          //   iitemSelector: ".item",
          //   layoutMode: "masonry",
          // });
          // grid.imagesLoaded().progress(function () {
          //   grid.isotope("layout");
          // });
        });
    </script>
  </body>
</html>
